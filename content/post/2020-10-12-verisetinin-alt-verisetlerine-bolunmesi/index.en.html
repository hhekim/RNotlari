---
title: Verisetinin alt verisetlerine bölünmesi
author: Hakan Hekim
date: '2020-10-12'
slug: [verisetinin-alt-verisetlerine-bolunmesi]
categories:
  - Temel R
tags:
  - dataframe
description: Dataframe nesnesinden altkümeler seçme işlemleri.
featured: yes
#toc: no
#featureImage: /images/path/file.jpg
#thumbnail: /images/path/thumbnail.png
shareImage: /logos/slogo.jpeg
codeMaxLines: 10
codeLineNumbers: no
figurePositionShow: yes
---

<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>


<p>Şimdi belli özelliklere sahip verilerin nasıl seçileceğine bakalım. Hatırlanacağı üzere <code>mtcars</code> R’ın standart verisetlerinden birisiydi.</p>
<p>Önce <code>mtcars</code> verisetindeki değişkenleri tekrar hatırlayalım:</p>
<pre class="r"><code>str(mtcars)</code></pre>
<pre><code>## &#39;data.frame&#39;:    32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>Şidi motor türünü gösteren <code>vs</code> değişkeninde kaç farklı değer olduğuna bakalım:</p>
<pre class="r"><code>unique(mtcars$vs)</code></pre>
<pre><code>## [1] 0 1</code></pre>
<p>Görüldüğü üzere <code>vs</code> değişkeninde 0 ve 1 olmak üzere iki değer bulunmakta. <code>unique()</code> fonksiyonu bu şekilde değişkenlerin içerdiği her bir özgün değeri görmemizi sağlar.</p>
<p><code>vs</code> değişkeninde 0 V tipi motor ve 1 normal motoru temsil etmektedir. Sadece V tipi motora sahip araçların verisine ulaşmak için şöyle bir yöntem kullanılabilir:</p>
<pre class="r"><code>Vtype &lt;- mtcars[mtcars$vs == 0,]
str(Vtype)</code></pre>
<pre><code>## &#39;data.frame&#39;:    18 obs. of  11 variables:
##  $ mpg : num  21 21 18.7 14.3 16.4 17.3 15.2 10.4 10.4 14.7 ...
##  $ cyl : num  6 6 8 8 8 8 8 8 8 8 ...
##  $ disp: num  160 160 360 360 276 ...
##  $ hp  : num  110 110 175 245 180 180 180 205 215 230 ...
##  $ drat: num  3.9 3.9 3.15 3.21 3.07 3.07 3.07 2.93 3 3.23 ...
##  $ wt  : num  2.62 2.88 3.44 3.57 4.07 ...
##  $ qsec: num  16.5 17 17 15.8 17.4 ...
##  $ vs  : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ am  : num  1 1 0 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 3 3 3 3 3 3 3 3 ...
##  $ carb: num  4 4 2 4 3 3 3 4 4 4 ...</code></pre>
<p>Görüldüğü gibi <code>mtcars</code> verisetindeki <code>vs</code> değişkenine göre filtreden geçirerek sadece V tipi motorlardan oluşan <code>Vtype</code> isimli yeni bir veriseti (dataframe nesnesi) oluşturduk.</p>
<p>Filtreleme işlemini yaparken kullandığımız karşılaştırma operatörlerinin sayısını arttırıp işleme daha fazla koşul ekleyebiliriz. Mesela hem V tipi motoru olan hem de otomatik vitesli araçları listeleyebiliriz:</p>
<pre class="r"><code>mtcars[mtcars$vs == 0 &amp; mtcars$am == 0,]</code></pre>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2</code></pre>
<p>Burada <code>mtcars$vs == 0</code> ile <code>mtcars$am == 0</code> parametreleri arasında yer alan “&amp;” işareti “ve” mantıksal operatörüdür. Burada “ve” operatörü V tipi motoru hem de otomatik vitesli araçların seçimini sağlamaktadır.</p>
<p>Değere bağlı alt-küme seçme işleminde veya başka işlemlerde kullanılabilecek mantıksal operatörler şunlardır:</p>
<table>
<thead>
<tr class="header">
<th align="center">Operatör</th>
<th align="center">Kullanımı</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">!</td>
<td align="center">Mantıksal ‘değil’</td>
</tr>
<tr class="even">
<td align="center">&amp;</td>
<td align="center">Elemanlara şamil mantıksal ‘ve’</td>
</tr>
<tr class="odd">
<td align="center">&amp;&amp;</td>
<td align="center">Mantıksal ‘ve’</td>
</tr>
<tr class="even">
<td align="center">|</td>
<td align="center">Elemanlara şamil mantıksal ‘veya’</td>
</tr>
<tr class="odd">
<td align="center">||</td>
<td align="center">Mantıksal ‘veya’</td>
</tr>
</tbody>
</table>
<p>İngilizce ‘element-wise’ kelimesini ‘elemanlara şamil’ olarak çevirdim. Mesela iki vektörün bütün elemanlarını teker teker karşılaştırmak için bunları kullanıyoruz.</p>
